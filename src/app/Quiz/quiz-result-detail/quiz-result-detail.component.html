<div class="container mt-4">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">
      <i class="fas fa-poll"></i> Results for 
      <span class="text-primary">"{{ quizTitle }}"</span>
    </h4>
    <div class="d-flex align-items-center">
      <label class="me-2 fw-bold"><i class="fas fa-percentage"></i> Pass %:</label>
      <input type="number" min="30" max="100" [(ngModel)]="passPercentage" 
             (input)="filterResults()" class="form-control form-control-sm"
             style="width: 80px;">
    </div>
  </div>

  <!-- Table -->
  <div class="table-responsive shadow-sm rounded">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-primary">
        <tr>
          <th class="text-center"><i class="fas fa-user-graduate"></i> Student Name</th>
          <th class="text-center"><i class="fas fa-redo"></i> No. of Attempts</th>
          <th class="text-center"><i class="fas fa-star"></i> Best Score</th>
          <th class="text-center"><i class="fas fa-question-circle"></i> Total Questions</th>
          <th class="text-center"><i class="fas fa-flag-checkered"></i> Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of filteredResults">
          <td class="text-center">{{ r.studentName }}</td>
          <td class="text-center">
            <span class="badge bg-secondary">{{ r.attempts }}</span>
          </td>
          <td class="text-center">
            <span class="fw-bold text-dark">{{ r.bestScore }}</span>
          </td>
          <td class="text-center">{{ r.totalQuestions }}</td>
          <td class="text-center">
            <span class="badge" 
                  [ngClass]="r.passed ? 'bg-success' : 'bg-danger'">
              {{ r.passed ? 'Passed' : 'Failed' }}
            </span>
          </td>
        </tr>
        <tr *ngIf="filteredResults.length === 0">
          <td colspan="6" class="text-center text-muted py-3">
            <i class="bi bi-info-circle me-1"></i> No results found.
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
