<div class="container-fluid">
  <div class="row min-vh-100">
    <!-- Sidebar -->
    <div class="col-md-3 bg-light border-end p-3 shadow-sm">
      <h4 class="mb-4 text-center">🎓 {{ role }} Panel</h4>

      <ul class="nav flex-column">
        <!-- Student Sidebar -->
        <ng-container *ngIf="role === 'Student'">
          <li class="nav-item mb-2">
            <a
              routerLink="/view-courses"
              class="nav-link btn btn-outline-primary w-100 text-start"
              >📘 View Courses</a
            >
          </li>
          <li class="nav-item mb-2">
            <a
              routerLink="/my-progress"
              class="nav-link btn btn-outline-success w-100 text-start"
              >📈 My Progress</a
            >
          </li>
        </ng-container>

        <!-- Teacher Sidebar -->
        <ng-container *ngIf="role === 'Teacher'">
          <li class="nav-item mb-2">
            <a
              routerLink="/create-course"
              class="nav-link btn btn-outline-info w-100 text-start"
              >📖 Create Course</a
            >
          </li>
          <li class="nav-item mb-2">
            <a
              routerLink="/my-courses"
              class="nav-link btn btn-outline-secondary w-100 text-start"
              >📚 My Courses</a
            >
          </li>
          <li class="nav-item mb-2">
            <a
              routerLink="/upload-video/0"
              class="nav-link btn btn-outline-warning w-100 text-start"
              >📹 Upload Video</a
            >
          </li>
          <!-- <li class="nav-item mb-2">
            <button
              class="btn btn-outline-success w-100 text-start"
              data-bs-toggle="modal"
              data-bs-target="#quizModal"
            >
              🧪 Create Quiz
            </button>
          </li> -->
        </ng-container>

        <!-- Admin Sidebar -->
        <ng-container *ngIf="role === 'Admin'">
          <li class="nav-item mb-2">
            <a
              routerLink="/manage-users"
              class="nav-link btn btn-outline-danger w-100 text-start"
              >🧑‍💼 Manage Users</a
            >
          </li>
          <li class="nav-item mb-2">
            <a
              routerLink="/settings"
              class="nav-link btn btn-outline-dark w-100 text-start"
              >⚙️ System Settings</a
            >
          </li>
        </ng-container>

        <!-- Logout -->
        <li class="nav-item mt-4">
          <button class="btn btn-outline-dark w-100" (click)="logout()">
            🚪 Logout
          </button>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="col-md-9 p-5">
      <h2 class="mb-4">Welcome, {{ fullname }}</h2>
      <p class="text-muted">
        You're logged in as <strong>{{ role }}</strong>. Select an option from the sidebar to get started.
      </p>

      <!-- Show courses for teachers -->
      <div *ngIf="role === 'Teacher'">
        <h4>📚 My Courses</h4>
        <div class="row">
          <div class="col-md-4 mb-4" *ngFor="let course of myCourses">
            <div class="card shadow-sm" style="overflow: hidden;">
              <img *ngIf="course.thumbnailPath" [src]="course.thumbnailPath" class="card-img-top" alt="Thumbnail" width="100" height="150" />
              <div class="card-body">
                <h5 class="card-title">{{ course.title }}</h5>
                <div class="description-text">
                  <p class="card-text">{{ course.description }}</p>
                </div>
                <button class="viewCourseBtn btn btn-sm btn-outline-info" (click)="createQuiz(course.id)">➕ Create Quiz</button>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
</div>
